{% extends "auth_base.html" %}
{% load static i18n %}


{% block content %}

  <!-- Start Content-->
  <div class="container-fluid">

    <!-- start page title -->
    <div class="row">
      <div class="col-12">
        <div class="page-title-box">
          <div class="page-title-right">
            <ol class="breadcrumb m-0">
              <li class="breadcrumb-item"><a href="javascript: void(0);">Hyper</a></li>
              <li class="breadcrumb-item"><a href="javascript: void(0);">Dashboard</a></li>
              <li class="breadcrumb-item active">CRM</li>
            </ol>
          </div>
          <h4 class="page-title">CRM</h4>
        </div>
      </div>
    </div>
    <!-- end page title -->

    <div class="row">

      <div class="col-md-6 col-xl-3">
        <div class="card">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-6">
                <h5 class="text-muted font-weight-normal mt-0 text-truncate" title="Campaign Sent">Campaign Sent</h5>
                <h3 class="my-2 py-1">9,184</h3>
                <p class="mb-0 text-muted">
                  <span class="text-success mr-2"><i class="mdi mdi-arrow-up-bold"></i> 3.27%</span>
                </p>
              </div>
              <div class="col-6">
                <div class="text-right">
                  <div id="campaign-sent-chart"></div>
                </div>
              </div>
            </div> <!-- end row-->
          </div> <!-- end card-body -->
        </div> <!-- end card -->
      </div> <!-- end col -->

      <div class="col-md-6 col-xl-3">
        <div class="card">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-6">
                <h5 class="text-muted font-weight-normal mt-0 text-truncate" title="New Leads">New Leads</h5>
                <h3 class="my-2 py-1">3,254</h3>
                <p class="mb-0 text-muted">
                  <span class="text-danger mr-2"><i class="mdi mdi-arrow-down-bold"></i> 5.38%</span>
                </p>
              </div>
              <div class="col-6">
                <div class="text-right">
                  <div id="new-leads-chart"></div>
                </div>
              </div>
            </div> <!-- end row-->
          </div> <!-- end card-body -->
        </div> <!-- end card -->
      </div> <!-- end col -->

      <div class="col-md-6 col-xl-3">
        <div class="card">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-6">
                <h5 class="text-muted font-weight-normal mt-0 text-truncate" title="Deals">Deals</h5>
                <h3 class="my-2 py-1">861</h3>
                <p class="mb-0 text-muted">
                  <span class="text-success mr-2"><i class="mdi mdi-arrow-up-bold"></i> 4.87%</span>
                </p>
              </div>
              <div class="col-6">
                <div class="text-right">
                  <div id="deals-chart"></div>
                </div>
              </div>
            </div> <!-- end row-->
          </div> <!-- end card-body -->
        </div> <!-- end card -->
      </div> <!-- end col -->

      <div class="col-md-6 col-xl-3">
        <div class="card">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-6">
                <h5 class="text-muted font-weight-normal mt-0 text-truncate" title="Booked Revenue">Booked Revenue</h5>
                <h3 class="my-2 py-1">$253k</h3>
                <p class="mb-0 text-muted">
                  <span class="text-success mr-2"><i class="mdi mdi-arrow-up-bold"></i> 11.7%</span>
                </p>
              </div>
              <div class="col-6">
                <div class="text-right">
                  <div id="booked-revenue-chart"></div>
                </div>
              </div>
            </div> <!-- end row-->
          </div> <!-- end card-body -->
        </div> <!-- end card -->
      </div> <!-- end col -->
    </div>
    <!-- end row -->

    <div class="row">
      <div class="col-xl-5">
        <div class="card">
          <div class="card-body">
            <div class="dropdown float-right">
              <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                <i class="mdi mdi-dots-vertical"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Today</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Yesterday</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Last Week</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Last Month</a>
              </div>
            </div>

            <h4 class="header-title mb-1">Campaigns</h4>

            <div id="dash-campaigns-chart" class="apex-charts"></div>

            <div class="row text-center mt-2">
              <div class="col-md-4">
                <i class="mdi mdi-send widget-icon rounded-circle bg-light-lighten text-muted"></i>
                <h3 class="font-weight-normal mt-3">
                  <span>6,510</span>
                </h3>
                <p class="text-muted mb-0 mb-2"><i class="mdi mdi-checkbox-blank-circle text-warning"></i> Total Sent
                </p>
              </div>
              <div class="col-md-4">
                <i class="mdi mdi-flag-variant widget-icon rounded-circle bg-light-lighten text-muted"></i>
                <h3 class="font-weight-normal mt-3">
                  <span>3,487</span>
                </h3>
                <p class="text-muted mb-0 mb-2"><i class="mdi mdi-checkbox-blank-circle text-primary"></i> Reached</p>
              </div>
              <div class="col-md-4">
                <i class="mdi mdi-email-open widget-icon rounded-circle bg-light-lighten text-muted"></i>
                <h3 class="font-weight-normal mt-3">
                  <span>1,568</span>
                </h3>
                <p class="text-muted mb-0 mb-2"><i class="mdi mdi-checkbox-blank-circle text-success"></i> Opened</p>
              </div>
            </div>

          </div>
          <!-- end card body-->
        </div>
        <!-- end card -->
      </div>
      <!-- end col-->

      <div class="col-xl-7">
        <div class="card">
          <div class="card-body">
            <div class="dropdown float-right">
              <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                <i class="mdi mdi-dots-vertical"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Today</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Yesterday</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Last Week</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Last Month</a>
              </div>
            </div>

            <h4 class="header-title mb-3">Revenue</h4>

            <div class="chart-content-bg">
              <div class="row text-center">
                <div class="col-md-6">
                  <p class="text-muted mb-0 mt-3">Current Month</p>
                  <h2 class="font-weight-normal mb-3">
                    <span>$42,025</span>
                  </h2>
                </div>
                <div class="col-md-6">
                  <p class="text-muted mb-0 mt-3">Previous Month</p>
                  <h2 class="font-weight-normal mb-3">
                    <span>$74,651</span>
                  </h2>
                </div>
              </div>
            </div>

            <div id="dash-revenue-chart" class="apex-charts"></div>

          </div>
          <!-- end card body-->
        </div>
        <!-- end card -->
      </div>
      <!-- end col-->
    </div>
    <!-- end row-->


    <div class="row">
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body">
            <div class="dropdown float-right">
              <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                <i class="mdi mdi-dots-vertical"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Settings</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Action</a>
              </div>
            </div>
            <h4 class="header-title mb-3">Top Performing</h4>

            <div class="table-responsive">
              <table class="table table-striped table-sm table-centered mb-0">
                <thead>
                <tr>
                  <th>User</th>
                  <th>Leads</th>
                  <th>Deals</th>
                  <th>Tasks</th>
                  <th></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                  <td>
                    <h5 class="font-15 mb-1 font-weight-normal">Jeremy Young</h5>
                    <span class="text-muted font-13">Senior Sales Executive</span>
                  </td>
                  <td>187</td>
                  <td>154</td>
                  <td>49</td>
                  <td class="table-action">
                    <a href="javascript: void(0);" class="action-icon"> <i class="mdi mdi-eye"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5 class="font-15 mb-1 font-weight-normal">Thomas Krueger</h5>
                    <span class="text-muted font-13">Senior Sales Executive</span>
                  </td>
                  <td>235</td>
                  <td>127</td>
                  <td>83</td>
                  <td class="table-action">
                    <a href="javascript: void(0);" class="action-icon"> <i class="mdi mdi-eye"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5 class="font-15 mb-1 font-weight-normal">Pete Burdine</h5>
                    <span class="text-muted font-13">Senior Sales Executive</span>
                  </td>
                  <td>365</td>
                  <td>148</td>
                  <td>62</td>
                  <td class="table-action">
                    <a href="javascript: void(0);" class="action-icon"> <i class="mdi mdi-eye"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5 class="font-15 mb-1 font-weight-normal">Mary Nelson</h5>
                    <span class="text-muted font-13">Senior Sales Executive</span>
                  </td>
                  <td>753</td>
                  <td>159</td>
                  <td>258</td>
                  <td class="table-action">
                    <a href="javascript: void(0);" class="action-icon"> <i class="mdi mdi-eye"></i></a>
                  </td>
                </tr>
                <tr>
                  <td>
                    <h5 class="font-15 mb-1 font-weight-normal">Kevin Grove</h5>
                    <span class="text-muted font-13">Senior Sales Executive</span>
                  </td>
                  <td>458</td>
                  <td>126</td>
                  <td>73</td>
                  <td class="table-action">
                    <a href="javascript: void(0);" class="action-icon"> <i class="mdi mdi-eye"></i></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div> <!-- end table-responsive-->

          </div> <!-- end card-body-->
        </div> <!-- end card-->
      </div>
      <!-- end col-->

      <div class="col-lg-4">
        <div class="card">
          <div class="card-body">
            <div class="dropdown float-right">
              <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                <i class="mdi mdi-dots-vertical"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Settings</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Action</a>
              </div>
            </div>
            <h4 class="header-title mb-4">Recent Leads</h4>

            <div class="media">
              <img class="mr-3 rounded-circle" src="{% static 'supervision/images/users/avatar-2.jpg' %}" width="40"
                   alt="Generic placeholder image">
              <div class="media-body">
                <h5 class="mt-0 mb-1">Risa Pearson</h5>
                <span class="font-13">richard.john@mail.com</span>
              </div>
              <span class="badge badge-warning-lighten">Cold lead</span>
            </div>

            <div class="media mt-3">
              <img class="mr-3 rounded-circle" src="{% static 'supervision/images/users/avatar-3.jpg' %}" width="40"
                   alt="Generic placeholder image">
              <div class="media-body">
                <h5 class="mt-0 mb-1">Margaret D. Evans</h5>
                <span class="font-13">margaret.evans@rhyta.com</span>
              </div>
              <span class="badge badge-danger-lighten">Lost lead</span>
            </div>

            <div class="media mt-3">
              <img class="mr-3 rounded-circle" src="{% static 'supervision/images/users/avatar-4.jpg' %}" width="40"
                   alt="Generic placeholder image">
              <div class="media-body">
                <h5 class="mt-0 mb-1">Bryan J. Luellen</h5>
                <span class="font-13">bryuellen@dayrep.com</span>
              </div>
              <span class="badge badge-success-lighten">Won lead</span>
            </div>

            <div class="media mt-3">
              <img class="mr-3 rounded-circle" src="{% static 'supervision/images/users/avatar-5.jpg' %}" width="40"
                   alt="Generic placeholder image">
              <div class="media-body">
                <h5 class="mt-0 mb-1">Kathryn S. Collier</h5>
                <span class="font-13">collier@jourrapide.com</span>
              </div>
              <span class="badge badge-warning-lighten">Cold lead</span>
            </div>

            <div class="media mt-3">
              <img class="mr-3 rounded-circle" src="{% static 'supervision/images/users/avatar-1.jpg' %}" width="40"
                   alt="Generic placeholder image">
              <div class="media-body">
                <h5 class="mt-0 mb-1">Timothy Kauper</h5>
                <span class="font-13">thykauper@rhyta.com</span>
              </div>
              <span class="badge badge-warning-lighten">Cold lead</span>
            </div>

            <div class="media mt-3">
              <img class="mr-3 rounded-circle" src="{% static 'supervision/images/users/avatar-6.jpg' %}" width="40"
                   alt="Generic placeholder image">
              <div class="media-body">
                <h5 class="mt-0 mb-1">Zara Raws</h5>
                <span class="font-13">austin@dayrep.com</span>
              </div>
              <span class="badge badge-success-lighten">Won lead</span>
            </div>

          </div>
          <!-- end card-body -->
        </div>
        <!-- end card-->
      </div>
      <!-- end col -->

      <div class="col-lg-4">
        <div class="card cta-box bg-primary text-white">
          <div class="card-body">
            <div class="media align-items-center">
              <div class="media-body">
                <h2 class="mt-0"><i class="mdi mdi-bullhorn-outline"></i></h2>
                <h3 class="m-0 font-weight-normal cta-box-title">Enhance your <b>Campaign</b> for better outreach <i
                  class="mdi mdi-arrow-right"></i></h3>
              </div>
              <img class="ml-3" src="{% static 'supervision/images/email-campaign.svg' %}" width="120" alt="Generic placeholder image">
            </div>
          </div>
          <!-- end card-body -->
        </div>
        <!-- end card-->

        <!-- Todo-->
        <div class="card">
          <div class="card-body">
            <div class="dropdown float-right">
              <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                <i class="mdi mdi-dots-vertical"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Settings</a>
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item">Action</a>
              </div>
            </div>
            <h4 class="header-title mb-2">Todo</h4>

            <div class="todoapp">
              <ul class="list-group list-group-flush slimscroll todo-list" style="max-height: 215px"
                  id="todo-list"></ul>
            </div> <!-- end .todoapp-->

          </div> <!-- end card-body -->
        </div> <!-- end card-->

      </div>
      <!-- end col -->
    </div>
    <!-- end row-->

  </div> <!-- container -->

{% endblock %}

{% block extra_javascript %}
  <!-- Apex js -->
  <script src="{% static 'supervision/js/vendor/apexcharts.min.js' %}"></script>

  <!-- Todo js -->
  <script src="{% static 'supervision/js/src/ui/component.todo.js' %}"></script>

  <!-- dashboard specific js -->
  <script type="text/javascript">

    $(document).ready(function () {
      //
      // Campaign Sent Chart
      //

      const options1 = {
        chart: {
          type: 'bar',
          height: 60,
          sparkline: {
            enabled: true
          }
        },
        plotOptions: {
          bar: {
            columnWidth: '60%'
          }
        },
        colors: ["#727cf5"],
        series: [{
          data: [25, 66, 41, 89, 63, 25, 44, 12, 36, 9, 54]
        }],
        labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
        xaxis: {
          crosshairs: {
            width: 1
          },
        },
        tooltip: {
          fixed: {
            enabled: false
          },
          x: {
            show: false
          },
          y: {
            title: {
              formatter: function (seriesName) {
                return ''
              }
            }
          },
          marker: {
            show: false
          }
        }
      };

      // campaign chart
      new ApexCharts(document.querySelector("#campaign-sent-chart"), options1).render();


      //
      // New Leads Chart
      //

      const options2 = {
        chart: {
          type: 'line',
          height: 60,
          sparkline: {
            enabled: true
          }
        },
        series: [{
          data: [25, 66, 41, 89, 63, 25, 44, 12, 36, 9, 54]
        }],
        stroke: {
          width: 2,
          curve: 'smooth'
        },
        markers: {
          size: 0
        },
        colors: ["#727cf5"],
        tooltip: {
          fixed: {
            enabled: false
          },
          x: {
            show: false
          },
          y: {
            title: {
              formatter: function (seriesName) {
                return ''
              }
            }
          },
          marker: {
            show: false
          }
        }
      };

      // lead chart
      new ApexCharts(document.querySelector("#new-leads-chart"), options2).render();


      //
      // Deals Charts
      //

      const options3 = {
        chart: {
          type: 'bar',
          height: 60,
          sparkline: {
            enabled: true
          }
        },
        plotOptions: {
          bar: {
            columnWidth: '60%'
          }
        },
        colors: ["#727cf5"],
        series: [{
          data: [12, 14, 2, 47, 42, 15, 47, 75, 65, 19, 14]
        }],
        labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
        xaxis: {
          crosshairs: {
            width: 1
          },
        },
        tooltip: {
          fixed: {
            enabled: false
          },
          x: {
            show: false
          },
          y: {
            title: {
              formatter: function (seriesName) {
                return ''
              }
            }
          },
          marker: {
            show: false
          }
        }
      };

      // deals
      new ApexCharts(document.querySelector("#deals-chart"), options3).render();

      //
      // Booked Revenue Chart
      //

      const options4 = {
        chart: {
          type: 'bar',
          height: 60,
          sparkline: {
            enabled: true
          }
        },
        plotOptions: {
          bar: {
            columnWidth: '60%'
          }
        },
        colors: ["#727cf5"],
        series: [{
          data: [47, 45, 74, 14, 56, 74, 14, 11, 7, 39, 82]
        }],
        labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
        xaxis: {
          crosshairs: {
            width: 1
          },
        },
        tooltip: {
          fixed: {
            enabled: false
          },
          x: {
            show: false
          },
          y: {
            title: {
              formatter: function (seriesName) {
                return ''
              }
            }
          },
          marker: {
            show: false
          }
        }
      };

      // booked revenue
      new ApexCharts(document.querySelector("#booked-revenue-chart"), options4).render();


      //
      // CAMPAIGNS RADIALBARS CHART
      //
      const options5 = {
        chart: {
          height: 320,
          type: 'radialBar'
        },
        colors: ["#ffbc00", "#727cf5", "#0acf97"],
        series: [86, 36, 50],
        labels: ['Total Sent', 'Reached', 'Opened'],
        plotOptions: {
          radialBar: {
            track: {
              margin: 8,
            }
          }
        }
      };

      var chart = new ApexCharts(
        document.querySelector("#dash-campaigns-chart"),
        options5
      );

      chart.render();


      //
      // REVENUE AREA CHART
      //

      const options6 = {
        chart: {
          height: 336,
          type: 'line',
          toolbar: {
            show: false
          }
        },
        stroke: {
          curve: 'smooth',
          width: 2
        },
        series: [{
          name: 'Total Revenue',
          type: 'area',
          data: [44, 55, 31, 47, 31, 43, 26, 41, 31, 47, 33, 43]
        }, {
          name: 'Total Pipeline',
          type: 'line',
          data: [55, 69, 45, 61, 43, 54, 37, 52, 44, 61, 43, 56]
        }],
        fill: {
          type: 'solid',
          opacity: [0.35, 1],
        },
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        markers: {
          size: 0
        },
        colors: ["#0acf97", "#fa5c7c"],
        yaxis: [
          {
            title: {
              text: 'Revenue (USD)',
            },
            min: 0
          }
        ],
        tooltip: {
          shared: true,
          intersect: false,
          y: {
            formatter: function (y) {
              if (typeof y !== "undefined") {
                return y.toFixed(0) + "k";
              }
              return y;

            }
          }
        },
        grid: {
          borderColor: '#f1f3fa',
          padding: {
            left: 0,
            right: 0
          }
        },
        legend: {
          fontSize: '14px',
          fontFamily: '14px',
          offsetY: 10,
        },
        responsive: [{
          breakpoint: 600,
          options: {
            yaxis: {
              show: false
            },
            legend: {
              show: false
            }
          }
        }]
      };

      chart = new ApexCharts(
        document.querySelector("#dash-revenue-chart"),
        options6
      );

      chart.render();
    });
  </script>
{% endblock %}

